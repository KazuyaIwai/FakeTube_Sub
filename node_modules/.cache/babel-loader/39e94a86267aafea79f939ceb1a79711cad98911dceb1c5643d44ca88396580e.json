{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\git\\\\FakeTube\\\\src\\\\views\\\\components\\\\templates\\\\IndividualVideo.tsx\",\n  _s = $RefreshSig$();\nimport { useState, useLayoutEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Grid } from '@material-ui/core';\nimport VideoPlayer from '../molecules/VideoPlayer';\nimport CommentList from '../molecules/CommentList';\nimport RecommendVideoList from '../molecules/RecommendVideoList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst sideMargin = 32;\nconst useStyles = makeStyles(theme => ({\n  contentMargin: {\n    marginLeft: sideMargin,\n    marginRight: sideMargin\n  }\n}));\nconst getParams = params => {\n  const paramsArray = params.slice(1).split('&');\n  const paramsObject = {};\n  paramsArray.forEach(param => {\n    paramsObject[param.split('=')[0]] = param.split('=')[1];\n  });\n  return paramsObject;\n};\nfunction IndividualVideo() {\n  _s();\n  var _location$state;\n  const classes = useStyles();\n\n  // ビデオ識別子の取得\n  const location = useLocation();\n  var v = (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.v;\n  if (!v) {\n    var _getParams;\n    v = (_getParams = getParams(location.search)) === null || _getParams === void 0 ? void 0 : _getParams.v;\n  }\n\n  // 動画再生タグサイズ調整\n  const maxSize = {\n    width: 1200,\n    height: 640\n  };\n  const mediumSize = {\n    width: 640,\n    height: 360\n  };\n  const minSize = {\n    width: 360,\n    height: 180\n  };\n  const [videoWidth, setVideoWidth] = useState(mediumSize.width);\n  const [isSideRecommend, setIsSideRecommend] = useState(false);\n  useLayoutEffect(() => {\n    const handleResize = () => {\n      const windowWidth = window.innerWidth - 64;\n      var width = mediumSize.width;\n      if (windowWidth < minSize.width) {\n        setIsSideRecommend(false);\n        width = minSize.width;\n        setVideoWidth(width);\n      } else if (windowWidth >= minSize.width && windowWidth < mediumSize.width) {\n        setIsSideRecommend(false);\n        width = Math.max(windowWidth, minSize.width);\n        setVideoWidth(width);\n      } else if (windowWidth >= mediumSize.width && windowWidth < maxSize.width) {\n        if (windowWidth - mediumSize.width < minSize.width - 36) {\n          setIsSideRecommend(false);\n          width = windowWidth;\n        } else {\n          setIsSideRecommend(true);\n          width = mediumSize.width;\n        }\n        setVideoWidth(width);\n      } else {\n        var _document$getElementB;\n        setIsSideRecommend(true);\n        const gridWidth = (_document$getElementB = document.getElementById('recommend-video-list')) === null || _document$getElementB === void 0 ? void 0 : _document$getElementB.offsetWidth;\n        if (gridWidth) {\n          setVideoWidth(windowWidth - gridWidth);\n        } else {\n          setVideoWidth(mediumSize.width);\n        }\n      }\n    };\n    handleResize();\n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.contentMargin,\n    children: isSideRecommend ? /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 3,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        style: {\n          maxWidth: videoWidth\n        },\n        children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n          vid: v,\n          videoWidth: videoWidth,\n          isSmallSize: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CommentList, {\n          vid: v,\n          videoWidth: videoWidth,\n          isSmallSize: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        id: \"recommend-video-list\",\n        children: /*#__PURE__*/_jsxDEV(RecommendVideoList, {\n          vid: v,\n          videoWidth: videoWidth,\n          isSmallSize: false\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(VideoPlayer, {\n        vid: v,\n        videoWidth: videoWidth,\n        isSmallSize: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(RecommendVideoList, {\n        vid: v,\n        videoWidth: videoWidth,\n        isSmallSize: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(CommentList, {\n        vid: v,\n        videoWidth: videoWidth,\n        isSmallSize: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n_s(IndividualVideo, \"fGEMjH/l3MU3R4EjxzVoMbcnzvs=\", false, function () {\n  return [useStyles, useLocation];\n});\n_c = IndividualVideo;\nexport default IndividualVideo;\nvar _c;\n$RefreshReg$(_c, \"IndividualVideo\");","map":{"version":3,"names":["useState","useLayoutEffect","useLocation","makeStyles","Grid","VideoPlayer","CommentList","RecommendVideoList","jsxDEV","_jsxDEV","Fragment","_Fragment","sideMargin","useStyles","theme","contentMargin","marginLeft","marginRight","getParams","params","paramsArray","slice","split","paramsObject","forEach","param","IndividualVideo","_s","_location$state","classes","location","v","state","_getParams","search","maxSize","width","height","mediumSize","minSize","videoWidth","setVideoWidth","isSideRecommend","setIsSideRecommend","handleResize","windowWidth","window","innerWidth","Math","max","_document$getElementB","gridWidth","document","getElementById","offsetWidth","addEventListener","removeEventListener","className","children","container","spacing","item","xs","style","maxWidth","vid","isSmallSize","fileName","_jsxFileName","lineNumber","columnNumber","id","_c","$RefreshReg$"],"sources":["C:/Users/user/git/FakeTube/src/views/components/templates/IndividualVideo.tsx"],"sourcesContent":["import { useState, useLayoutEffect } from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { makeStyles, Theme } from '@material-ui/core/styles';\r\nimport { Grid } from '@material-ui/core';\r\nimport VideoPlayer from '../molecules/VideoPlayer';\r\nimport CommentList from '../molecules/CommentList';\r\nimport RecommendVideoList from '../molecules/RecommendVideoList';\r\n\r\nconst sideMargin = 32;\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n  contentMargin: {\r\n    marginLeft: sideMargin,\r\n    marginRight: sideMargin,\r\n  },\r\n}));\r\n\r\nconst getParams = (params: string): { [key: string]: string } => {\r\n  const paramsArray = params.slice(1).split('&')\r\n  const paramsObject: { [key: string]: string } = {}\r\n  paramsArray.forEach(param => {\r\n    paramsObject[param.split('=')[0]] = param.split('=')[1]\r\n  });\r\n  return paramsObject;\r\n}\r\n\r\nfunction IndividualVideo() {\r\n  const classes = useStyles();\r\n\r\n  // ビデオ識別子の取得\r\n  const location = useLocation();\r\n  var v = location.state?.v;\r\n  if (!v) { v = getParams(location.search)?.v; }\r\n\r\n  // 動画再生タグサイズ調整\r\n  const maxSize = { width: 1200, height: 640};\r\n  const mediumSize = { width: 640, height: 360};\r\n  const minSize = { width: 360, height: 180};\r\n  const [videoWidth, setVideoWidth] = useState(mediumSize.width);\r\n  const [isSideRecommend, setIsSideRecommend] = useState(false);\r\n  useLayoutEffect(() => {\r\n    const handleResize = () => {\r\n      const windowWidth = window.innerWidth - 64;\r\n      var width = mediumSize.width;\r\n      if (windowWidth < minSize.width) {\r\n        setIsSideRecommend(false);\r\n        width = minSize.width;\r\n        setVideoWidth(width);\r\n      } else if ((windowWidth >= minSize.width) && (windowWidth < mediumSize.width)) {\r\n        setIsSideRecommend(false);\r\n        width = Math.max(windowWidth, minSize.width);\r\n        setVideoWidth(width);\r\n      } else if ((windowWidth >= mediumSize.width) && (windowWidth < maxSize.width)) {\r\n        if ((windowWidth - mediumSize.width) < (minSize.width - 36)) {\r\n          setIsSideRecommend(false);\r\n          width = windowWidth;\r\n        } else {\r\n          setIsSideRecommend(true);\r\n          width = mediumSize.width;\r\n        }\r\n        setVideoWidth(width);\r\n      } else {\r\n        setIsSideRecommend(true);\r\n        const gridWidth = document.getElementById('recommend-video-list')?.offsetWidth;\r\n        if (gridWidth) {\r\n          setVideoWidth(windowWidth - gridWidth);\r\n        } else {\r\n          setVideoWidth(mediumSize.width);\r\n        }\r\n      }\r\n    };\r\n    handleResize();\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={classes.contentMargin}>\r\n      {isSideRecommend ? (\r\n        <Grid container spacing={3}>\r\n          <Grid item xs={6} style={{maxWidth: videoWidth}}>\r\n            <VideoPlayer vid={v} videoWidth={videoWidth} isSmallSize={false} />\r\n            <CommentList vid={v} videoWidth={videoWidth} isSmallSize={false} />\r\n          </Grid>\r\n          <Grid item xs={4} id='recommend-video-list'>\r\n            <RecommendVideoList vid={v} videoWidth={videoWidth} isSmallSize={false} />\r\n          </Grid>\r\n        </Grid>\r\n      ) : (\r\n        <>\r\n          <VideoPlayer vid={v} videoWidth={videoWidth} isSmallSize={true} />\r\n          <RecommendVideoList vid={v} videoWidth={videoWidth} isSmallSize={true} />\r\n          <CommentList vid={v} videoWidth={videoWidth} isSmallSize={true} />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default IndividualVideo;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}